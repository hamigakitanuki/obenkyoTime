wordpressで教材アプリの作成

やったこと
1.wordpressのインストール

2.DBの登録

3.プラグインのインストール
・Quiz And Survey Master
・WP-Members

4.固定ページの登録
→ 空の固定ページを作成。slugをファイル名の「page-{ここ}」に設定。例：page-homeだとslugは「home」

5.記事表示や問題文がバグるので、一旦デフォルトテーマに戻し

6.問題一覧ページの作成

7.記事そのものを問題文にするためにパーマリンクを設定 URLが「wordpress/category/1」のようにわかりやすくなった
カテゴリ名は「question」

8.教材は記事をそのまま利用できるようにする
カテゴリ名は「textbook」

9.教材のみコメントを受け付ける

10.リストの形や内容を変更

11.問題のページを複数作ることでもどるや次ボタンができることが判明。また、完了メッセージなどを設定可能

12.ログインしているユーザーのみコメントOK

13.wpmemはメールアドレスとパスワードを設定

14.登録完了メッセージから「パスワード送付」のメッセージを削除 <br><br>の後ろ文章 午前3時47分

15.ログインしているときのみナビゲーションヘッダーのメニュー表示

16.ナビゲーションヘッダーの一番右にユーザープルダウン追加

17.ランキングは「dashboard」というクイズプラグインのアドオンが無料で手に入る 設定から行って allなんちゃら開く クレジットいらない

18.確認後、ダウンロードリンクが下の方にある。わかりづらい。一緒にライセンスキーも出てるのでコピーする

19.プラグインとして、ダウンロードしたアドオンのzipをアップロードする

20.クイズプラグインの設定からアドオンを有効化する。ライセンスキー貼り付け 午前5時21分

21.クイズ毎にランキングの変数を貼り付ける必要がある。めんどい

22.ランキングはリスト形式で表示するようにした


教科書登録
ダッシュボード→記事投稿から
設定する項目
・タイトル
・本文
・抜粋
・サムネイル(アイキャッチ画像)
・カテゴリを「textbook」

教材機能
・一覧から飛べる
・質問掲示板がある
・質問を受け付けたら、管理者画面から確認可能

問題投稿
ダッシュボード→QSM→Quizzes/Surveysから→addNew　or duplicate（既存の問題からテンプレートの複製）で問題を作る
addNewからの場合→quiz settingsからタイトルを入力→next→create quizで作成完了
クイズの設定項目
・ページの追加 (ページ下のcreate new page)
・ページ内のクイズの作成 (セクション下の create new question)
・クイズの設定項目
　・問題文
　・説明文
　・選択肢(内一つを正解(correctにチェック))
　・feature imageから問題文の画像など

  ・上のタブから「text」を選択し、問題文の最初のメッセージを設定
  ・上のタブから「result pages」を選択し、回答後のメッセージを設定。whenから何問以上正解などの条件を設定可能
  ・上のタブから「leaderboads」を選択し、ランキングのメッセージを入れることが可能。基本的には1~5位の順位のみを変数で表示する

最後にページ右上のpublish quizをクリック

・クイズ作成後はリストの目のアイコンからshorcodeをコピー(Embed Shortcode)

記事投稿から
・タイトルはテスト名
・ショートコードブロックから先程コピーしたコードを貼り付け
・カテゴリを「question」に設定
・アイキャッチ画像を設定
・URLスラッグをショートコード内の数字に設定する(大事)

使ったフレーム
・CSSフレームワーク bootstrap
https://getbootstrap.jp/
→主にナビゲーションヘッダーやカードリスト(教材一覧・問題一覧など)の表示に使用

・アイコン fontawesome
https://fontawesome.com/
→ホーム画面のアイコンに使用

・CMS Wordpress
https://wordpress.com/ja/

・プラグイン
Quiz And Survey Master
→問題文の作成・管理ができる

QSM - Leaderboards
→Quiz And Survey Masterの追加機能。ダッシュボードの表示ができる

WP-Members
→会員登録やログインができるようになる。

・その他やったこと
→デフォルトテーマをいじり不要なパーツを削除
→追加でスタイルを適用したいところに、カスタムでスタイルシートを作成
→プラグインのショートコードををテンプレート内に埋め込み
→記事カテゴリページを作成し、問題一覧と教材一覧ページを作成。カテゴリ内の記事一覧を取得し、繰り返し処理で表示しています。
→ログインページ・会員登録ページ・プロフィールページは、WPMembersプラグインんのショートコードを読み込みページを表示しています。
→ホーム画面はpage-home.phpなどで作成しています。
→本来ないページ(ログイン周り、ホーム、ランキング)などは、テンプレートファイルを作成した後、固定ページのURLスラッグを設定し連携させることで表示しています。
